# 清迈指南 - 项目链接清单

**版本**: v1.0.7
**更新日期**: 2026-01-28
**服务器**: http://localhost:3000

---

## 🏠 主要页面

### 用户界面

| 页面名称 | 链接 | 说明 | 模式 |
|---------|------|------|------|
| **PC主页** | [http://localhost:3000/index.html](http://localhost:3000/index.html) | 桌面端活动展示页面 | 💻 PC模式 |
| **H5主页** | [http://localhost:3000/index.html?mode=h5](http://localhost:3000/index.html?mode=h5) | 移动端活动展示页面 | 📱 H5模式 |
| **管理页面** | [http://localhost:3000/admin.html](http://localhost:3000/admin.html) | 活动管理后台（CRUD操作） | 🎛️ Admin |

**自动检测**: index.html支持自动检测设备类型，移动设备访问时自动切换到H5模式

---

## 🧪 测试系统

### 在线测试页面（推荐）

| 测试页面 | 链接 | 测试数量 | 说明 |
|---------|------|---------|------|
| **综合测试面板** ⭐ | http://localhost:3000/test-dashboard.html | 17项 | **推荐使用** - 包含所有测试 |

### 综合测试面板 - 测试模块

1. 📊 **数据层测试**（4项）
   - JSON文件存在性
   - JSON文件格式
   - status字段完整性
   - suspended活动数量

2. 🌐 **API层测试**（4项）
   - API服务可访问性
   - API返回数据
   - suspensionNote字段
   - 数据一致性检查

3. 💼 **业务逻辑与前端过滤测试**（6项）
   - 过滤后活动数量
   - 活动0001被过滤
   - 其他活动正常显示
   - 前端页面可访问性
   - 过滤逻辑实现
   - 版本号机制

4. 📦 **版本信息测试**（3项）
   - 版本号存在性
   - 时间戳有效性
   - 活动数量准确性

5. 👤 **用户体验测试**（3项）
   - 提示信息完整性
   - 界面文件存在性
   - 导航链接可用性

---

## 🔌 API端点

### 版本相关

| 端点 | 方法 | 说明 | 返回示例 |
|------|------|------|---------|
| **应用版本** | `GET /app/version` | 应用版本号（简洁） | `v1.0.7` |
| **数据版本** | `GET /api/version` | 数据版本号 | `v1.0.6` |

### 活动数据

| 端点 | 方法 | 说明 | 返回 |
|------|------|------|------|
| **活动列表** | `GET /api/activities` | 获取所有活动 | 45个活动 |
| **添加活动** | `POST /api/items` | 添加新活动 | 成功/失败 |
| **更新活动** | `PUT /api/items/:activityNumber` | 更新指定活动 | 更新后的活动 |
| **删除活动** | `DELETE /api/items/:activityNumber` | 删除指定活动 | 成功/失败 |

### API快速测试

```bash
# 获取应用版本
curl http://localhost:3000/app/version

# 获取数据版本
curl http://localhost:3000/api/version

# 获取活动列表
curl http://localhost:3000/api/activities
```

---

## 📚 文档系统

### 方法论文档

| 文档名称 | 链接 | 说明 | 大小 |
|---------|------|------|------|
| **测试思维方法论** ⭐ | [测试思维方法论.md](http://localhost:3000/docs/测试思维方法论.md) | 系统的测试原则、方法和流程 | 12KB |
| **测试功能说明** | [测试功能说明.md](http://localhost:3000/docs/测试功能说明.md) | 测试使用指南 | - |
| **开发检查清单** | [全链路功能开发检查清单.md](http://localhost:3000/docs/全链路功能开发检查清单.md) | 开发时的检查清单 | - |

### 项目文档

| 文档名称 | 链接 | 说明 |
|---------|------|------|
| **项目文件结构** | [项目文件结构说明.md](http://localhost:3000/docs/项目文件结构说明.md) | 完整的项目文件清单和说明 |
| **功能方案** | [活动暂停状态方案-简化版.md](http://localhost:3000/docs/活动暂停状态方案-简化版.md) | Suspended功能设计方案 |
| **优化完成报告** | [前端功能优化完成报告.md](http://localhost:3000/docs/前端功能优化完成报告.md) | 优化内容总结和验收清单 |
| **修复报告** | [重复内容修复报告-2026-01-27.md](http://localhost:3000/docs/重复内容修复报告-2026-01-27.md) | 历史修复记录 |

---

## 📂 数据文件

### JSON数据

| 文件 | 路径 | 说明 | 记录数 |
|------|------|------|--------|
| **活动数据** | [data/items.json](data/items.json) | 活动信息（JSON格式） | 45个活动 |
| **版本信息** | [data/version.json](data/version.json) | 数据版本号 | v1.0.6 |
| **导游数据** | [data/guide.json](data/guide.json) | 导游信息 | - |
| **应用版本** | [app-version.json](app-version.json) | 应用版本配置 | v1.0.7 |

### Excel数据

| 文件 | 路径 | 说明 |
|------|------|------|
| **活动数据** | [清迈活动数据.xlsx](清迈活动数据.xlsx) | 活动信息（Excel格式） |
| **备份文件** | [backups/](backups/) | 历史备份文件 |

---

## 🛠️ 测试脚本

### Node.js脚本

| 脚本 | 命令 | 说明 | 测试数量 |
|------|------|------|---------|
| **全链路测试** | `node scripts/test-suspended-full.cjs` | 完整的全链路测试 | 27项 |
| **基础测试** | `node test-suspended-filter.cjs` | 快速功能验证 | 3项 |

### 运行示例

```bash
# 进入项目目录
cd /Users/yuzhoudeshengyin/Documents/my_project/Chiengmai

# 运行全链路测试（27项）
node scripts/test-suspended-full.cjs

# 运行基础测试
node test-suspended-filter.cjs
```

---

## 🔗 快速导航

### 从测试面板访问

综合测试面板顶部包含以下快速导航链接：

- 💻 **PC主页** - [http://localhost:3000/index.html](http://localhost:3000/index.html)
- 📱 **H5主页** - [http://localhost:3000/index.html?mode=h5](http://localhost:3000/index.html?mode=h5)
- 🎛️ **管理页面** - [http://localhost:3000/admin.html](http://localhost:3000/admin.html)
- 🔌 **后端API** - [http://localhost:3000/api/activities](http://localhost:3000/api/activities)
- 📦 **数据版本** - [http://localhost:3000/version-info.html](http://localhost:3000/version-info.html)
- 🎓 **测试思维** - [测试思维方法论.md](http://localhost:3000/docs/测试思维方法论.md)
- 📚 **测试文档** - [测试功能说明.md](http://localhost:3000/docs/测试功能说明.md)

---

## 📊 测试覆盖范围

### 6层测试体系

| 层次 | 测试内容 | 覆盖率 | 状态 |
|------|---------|--------|------|
| 📚 **文档层** | 测试文档完整性检查 | 100% | ✅ |
| 📊 **数据层** | JSON、Excel、备份验证 | 100% | ✅ |
| 🌐 **API层** | 接口、数据格式测试 | 100% | ✅ |
| 💼 **业务逻辑** | 过滤、计算、验证 | 100% | ✅ |
| 🎨 **前端层** | 显示、交互测试 | 100% | ✅ |
| 👤 **用户体验** | 实际使用场景 | 100% | ✅ |

---

## 🚀 快速启动指南

### 1. 启动服务器

```bash
cd /Users/yuzhoudeshengyin/Documents/my_project/Chiengmai
node server.cjs
```

**服务器地址**: http://localhost:3000

### 2. 访问主页

- **PC端**: 直接访问主页 - [http://localhost:3000/index.html](http://localhost:3000/index.html)
- **H5端**: 添加mode参数 - [http://localhost:3000/index.html?mode=h5](http://localhost:3000/index.html?mode=h5)

### 3. 运行测试

- **在线测试**: 访问综合测试面板 - [http://localhost:3000/test-dashboard.html](http://localhost:3000/test-dashboard.html)
- **命令行测试**: 运行全链路测试脚本

```bash
node scripts/test-suspended-full.cjs
```

### 4. 查看文档

- **测试思维**: [测试思维方法论.md](docs/测试思维方法论.md)
- **使用说明**: [测试功能说明.md](docs/测试功能说明.md)
- **项目结构**: [项目文件结构说明.md](docs/项目文件结构说明.md)

---

## 📱 移动端访问

### H5模式激活方式

1. **URL参数**: `?mode=h5`
   - 示例: `http://localhost:3000/index.html?mode=h5`

2. **自动检测**: 根据User-Agent自动识别
   - 检测到移动设备自动切换到H5模式
   - 支持的设备: Android, iOS, iPad, iPod等

### 模式标识

页面会自动添加以下CSS类：
- `.mode-h5` - H5模式
- `.mode-pc` - PC模式
- `.is-mobile` - 移动设备

可通过JavaScript访问：
```javascript
window.CHIENGMAI_MODE        // 'h5' 或 'pc'
window.CHIENGMAI_IS_MOBILE   // true 或 false
```

---

## ⚠️ 注意事项

### 版本同步

- **应用版本**: v1.0.7（[app-version.json](app-version.json)）
- **数据版本**: v1.0.6（[data/version.json](data/version.json)）
- 前端通过 `/app/version` API获取应用版本
- 数据更新时自动使用应用版本号

### 缓存控制

- 所有API端点禁用缓存
- 前端实现版本检查机制
- 版本更新时显示通知横幅

### 测试覆盖

- 在线测试: 17项（综合测试面板）
- 命令行测试: 27项（全链路测试）
- 测试通过率: 100%

---

## 📝 变更日志

### v1.0.7 (2026-01-28)
- ✅ 实现H5模式自动切换
- ✅ PC/H5导航区分
- ✅ 统一项目代码结构
- ✅ 创建项目文件结构文档

### v1.0.6 (2026-01-28)
- ✅ 版本号机制（前后端统一）
- ✅ 综合测试面板（17项测试）
- ✅ 测试思维方法论文档
- ✅ 测试功能文档更新

---

**维护者**: Claude AI
**最后更新**: 2026-01-28
**版本**: v1.0.7
