# ğŸ• æ¯æ—¥å®šæ—¶æ£€æŸ¥ç³»ç»Ÿè®¾ç½®æŒ‡å—

> è‡ªåŠ¨åŒ–æ¯å¤©æ£€æŸ¥ Chiengmai é¡¹ç›®ç³»ç»Ÿå¥åº·çŠ¶æ€

---

## ğŸ“‹ ç³»ç»ŸåŠŸèƒ½

- â° **å®šæ—¶æé†’**ï¼šæ¯å¤© 10:00 è‡ªåŠ¨æé†’
- ğŸ¤” **æ™ºèƒ½è¯¢é—®**ï¼šè¯¢é—®æ˜¯å¦è¦æ‰§è¡Œæ£€æŸ¥
- âœ… **è‡ªåŠ¨æµ‹è¯•**ï¼šè¿è¡Œå®Œæ•´çš„ç³»ç»Ÿå¥åº·æ£€æŸ¥
- ğŸ“Š **ç»“æœé€šçŸ¥**ï¼šæ˜¾ç¤ºæ£€æŸ¥ç»“æœé€šçŸ¥
- ğŸ“ **æ—¥å¿—è®°å½•**ï¼šä¿å­˜æ‰€æœ‰æ£€æŸ¥è®°å½•

---

## ğŸ”§ å®‰è£…æ­¥éª¤

### 1. èµ‹äºˆè„šæœ¬æ‰§è¡Œæƒé™

```bash
cd /Users/yuzhoudeshengyin/Documents/my_project/Chiengmai
chmod +x daily-check.sh
chmod +x test-enhanced-fixed.sh
```

### 2. åˆ›å»ºæ—¥å¿—ç›®å½•

```bash
mkdir -p logs
```

### 3. å®‰è£… Launch Agentï¼ˆmacOS å®šæ—¶ä»»åŠ¡ï¼‰

```bash
# å¤åˆ¶ plist æ–‡ä»¶åˆ° LaunchAgents ç›®å½•
cp com.chiangmai.dailycheck.plist ~/Library/LaunchAgents/

# åŠ è½½å®šæ—¶ä»»åŠ¡
launchctl load ~/Library/LaunchAgents/com.chiangmai.dailycheck.plist
```

### 4. éªŒè¯å®‰è£…

```bash
# æŸ¥çœ‹å·²åŠ è½½çš„ä»»åŠ¡
launchctl list | grep chiangmai

# æŸ¥çœ‹ä»»åŠ¡æ—¥å¿—
tail -f logs/daily-check.log
```

---

## ğŸ¯ ä½¿ç”¨æ–¹å¼

### è‡ªåŠ¨è¿è¡Œ

1. **æ¯å¤© 10:00**ï¼šç³»ç»Ÿè‡ªåŠ¨å¼¹å‡ºå¯¹è¯æ¡†
2. **é€‰æ‹©æ“ä½œ**ï¼š
   - ğŸŸ¢ **ç«‹å³æ£€æŸ¥**ï¼šé©¬ä¸Šè¿è¡Œæµ‹è¯•
   - ğŸŸ¡ **ç¨åæé†’**ï¼š1å°æ—¶åå†æ¬¡æé†’
   - ğŸ”´ **å–æ¶ˆ**ï¼šè·³è¿‡ä»Šå¤©çš„æ£€æŸ¥

3. **æŸ¥çœ‹ç»“æœ**ï¼š
   - é€šçŸ¥ä¸­å¿ƒæ˜¾ç¤ºæ£€æŸ¥ç»“æœ
   - ç»ˆç«¯æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
   - æ—¥å¿—æ–‡ä»¶ä¿å­˜å®Œæ•´è®°å½•

### æ‰‹åŠ¨è¿è¡Œ

```bash
# æ–¹å¼1ï¼šç›´æ¥è¿è¡Œæ£€æŸ¥è„šæœ¬
./daily-check.sh

# æ–¹å¼2ï¼šåªè¿è¡Œæµ‹è¯•
python3 test-enhanced-fixed.sh

# æ–¹å¼3ï¼šæŸ¥çœ‹ä»Šå¤©çš„æ—¥å¿—
cat logs/daily-check-$(date +%Y%m%d).log
```

---

## ğŸ“Š æ£€æŸ¥å†…å®¹

æ¯æ¬¡æµ‹è¯•åŒ…å«ï¼š

1. âœ… **ä¸»é¡µåŠŸèƒ½**ï¼šé¡µé¢è®¿é—®ã€Reactå®¹å™¨ã€æ•°æ®API
2. âœ… **æ—¥å†é¡µé¢**ï¼šé¡µé¢è®¿é—®ã€æ•°æ®æº
3. âœ… **ç®¡ç†åå°**ï¼šè¡¨å•å…ƒç´ ã€æ“ä½œæŒ‰é’®
4. âœ… **APIç«¯ç‚¹**ï¼šæ´»åŠ¨åˆ—è¡¨ã€æ•°æ®æ¥å£
5. âœ… **æ•°æ®ä¸€è‡´æ€§**ï¼šå­—æ®µå®Œæ•´æ€§ã€æ•°æ®æ ¼å¼

---

## ğŸ—‘ï¸ å¸è½½æ–¹æ³•

```bash
# 1. åœæ­¢å®šæ—¶ä»»åŠ¡
launchctl unload ~/Library/LaunchAgents/com.chiangmai.dailycheck.plist

# 2. åˆ é™¤é…ç½®æ–‡ä»¶
rm ~/Library/LaunchAgents/com.chiangmai.dailycheck.plist

# 3. ï¼ˆå¯é€‰ï¼‰åˆ é™¤æ—¥å¿—
rm -rf logs/
```

---

## âš™ï¸ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹æ£€æŸ¥æ—¶é—´

ç¼–è¾‘ `com.chiangmai.dailycheck.plist`ï¼š

```xml
<key>StartCalendarInterval</key>
<dict>
    <key>Hour</key>
    <integer>10</integer>  <!-- ä¿®æ”¹ä¸ºæƒ³è¦çš„å°æ—¶ (0-23) -->
    <key>Minute</key>
    <integer>0</integer>   <!-- ä¿®æ”¹ä¸ºæƒ³è¦çš„åˆ†é’Ÿ (0-59) -->
</dict>
```

ä¿®æ”¹åéœ€è¦é‡æ–°åŠ è½½ï¼š
```bash
launchctl unload ~/Library/LaunchAgents/com.chiangmai.dailycheck.plist
launchctl load ~/Library/LaunchAgents/com.chiangmai.dailycheck.plist
```

### ä¿®æ”¹æé†’æ–‡æ¡ˆ

ç¼–è¾‘ `daily-check.sh` ä¸­çš„ `osascript` å¯¹è¯æ¡†æ–‡å­—ã€‚

---

## ğŸ“ æ—¥å¿—æ–‡ä»¶

### æ—¥å¿—ä½ç½®

```
logs/
â”œâ”€â”€ daily-check-20250125.log      # æ¯æ—¥æ£€æŸ¥æ—¥å¿—
â”œâ”€â”€ daily-check.log                # ç³»ç»Ÿè¾“å‡ºæ—¥å¿—
â””â”€â”€ daily-check-error.log          # é”™è¯¯æ—¥å¿—
```

### æŸ¥çœ‹æ—¥å¿—

```bash
# æŸ¥çœ‹ä»Šå¤©çš„æ£€æŸ¥è®°å½•
cat logs/daily-check-$(date +%Y%m%d).log

# å®æ—¶ç›‘æ§æ—¥å¿—
tail -f logs/daily-check.log

# æŸ¥çœ‹æœ€è¿‘çš„æ£€æŸ¥è®°å½•
ls -lt logs/daily-check-*.log | head -5
```

---

## ğŸ” æ•…éšœæ’é™¤

### é—®é¢˜1ï¼šå®šæ—¶ä»»åŠ¡æ²¡æœ‰è¿è¡Œ

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥ä»»åŠ¡æ˜¯å¦åŠ è½½
launchctl list | grep chiangmai

# é‡æ–°åŠ è½½ä»»åŠ¡
launchctl unload ~/Library/LaunchAgents/com.chiangmai.dailycheck.plist
launchctl load ~/Library/LaunchAgents/com.chiangmai.dailycheck.plist
```

### é—®é¢˜2ï¼šå¯¹è¯æ¡†æ²¡æœ‰å¼¹å‡º

**åŸå› **ï¼šå¯èƒ½è¢«macOSé˜»æ­¢äº†é€šçŸ¥æƒé™

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç³»ç»Ÿè®¾ç½® â†’ é€šçŸ¥ â†’ è„šæœ¬ç¼–è¾‘å™¨
2. å…è®¸é€šçŸ¥
3. é‡æ–°è¿è¡Œæµ‹è¯•

### é—®é¢˜3ï¼šæµ‹è¯•å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ‰‹åŠ¨è¿è¡Œæµ‹è¯•æŸ¥çœ‹è¯¦ç»†é”™è¯¯
python3 test-enhanced-fixed.sh

# æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦è¿è¡Œ
lsof -i :5173  # å‰ç«¯
lsof -i :3000  # åç«¯

# å¯åŠ¨æœåŠ¡å™¨
npm run dev
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

1. **æ¯å¤©æ£€æŸ¥**ï¼šå…»æˆæ¯å¤©æŸ¥çœ‹æ£€æŸ¥ç»“æœçš„ä¹ æƒ¯
2. **åŠæ—¶ä¿®å¤**ï¼šå‘ç°é—®é¢˜æ—¶ç«‹å³ä¿®å¤
3. **å®šæœŸæ¸…ç†**ï¼šå®šæœŸæ¸…ç†æ—§çš„æ—¥å¿—æ–‡ä»¶ï¼ˆä¿ç•™æœ€è¿‘30å¤©ï¼‰
4. **ä¿æŒæ›´æ–°**ï¼šæ ¹æ®é¡¹ç›®å˜åŒ–æ›´æ–°æµ‹è¯•å†…å®¹

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼š
1. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶äº†è§£è¯¦æƒ…
2. è¿è¡Œæ‰‹åŠ¨æµ‹è¯•è¯Šæ–­é—®é¢˜
3. å‚è€ƒ `.claude/test-protocol.md` æµ‹è¯•åè®®

---

**æœ€åæ›´æ–°**ï¼š2025-01-25
**ç‰ˆæœ¬**ï¼š1.0
