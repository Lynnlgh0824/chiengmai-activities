<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¸…è¿ˆæ´»åŠ¨å¹³å° - ç»¼åˆæµ‹è¯•é¢æ¿</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            background: white;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 32px;
        }

        .subtitle {
            color: #666;
            font-size: 16px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }

        .stat-number {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 14px;
            opacity: 0.9;
        }

        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .test-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .test-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .test-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .test-icon {
            font-size: 24px;
        }

        .test-status {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-pending {
            background: #e3f2fd;
            color: #1976d2;
        }

        .status-running {
            background: #fff3e0;
            color: #f57c00;
        }

        .status-pass {
            background: #e8f5e9;
            color: #388e3c;
        }

        .status-fail {
            background: #ffebee;
            color: #d32f2f;
        }

        .test-description {
            color: #666;
            font-size: 14px;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .test-content {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
            background: #fafafa;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.6;
        }

        .test-result-item {
            padding: 8px 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .test-result-item:last-child {
            border-bottom: none;
        }

        .result-pass {
            color: #388e3c;
        }

        .result-fail {
            color: #d32f2f;
        }

        .result-info {
            color: #1976d2;
        }

        .run-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }

        .run-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.5);
        }

        .run-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 15px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .nav-link {
            display: inline-flex;
            align-items: center;
            padding: 10px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }

        .nav-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.5);
        }

        .nav-icon {
            margin-right: 8px;
        }

        @media (max-width: 768px) {
            .test-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§ª æ¸…è¿ˆæ´»åŠ¨å¹³å° - ç»¼åˆæµ‹è¯•é¢æ¿</h1>
            <p class="subtitle">å…¨é“¾è·¯è‡ªåŠ¨åŒ–æµ‹è¯• - æ•°æ®ã€APIã€å‰ç«¯ã€ä¸šåŠ¡é€»è¾‘ã€ç”¨æˆ·ä½“éªŒ</p>

            <!-- å¿«é€Ÿå¯¼èˆª -->
            <div style="margin-top: 20px; margin-bottom: 20px;">
                <h2 style="font-size: 18px; margin-bottom: 12px;">ğŸ”— å¿«é€Ÿå¯¼èˆª</h2>
                <div class="nav-buttons" style="margin-top: 0;">
                    <a href="/index.html" class="nav-link" target="_blank">
                        <span class="nav-icon">ğŸ </span>
                        ä¸»é¡µï¼ˆè‡ªåŠ¨é€‚é…PC/H5ï¼‰
                    </a>
                    <a href="/admin.html" class="nav-link" target="_blank">
                        <span class="nav-icon">ğŸ›ï¸</span>
                        ç®¡ç†é¡µé¢
                    </a>
                    <a href="/api/activities" class="nav-link" target="_blank">
                        <span class="nav-icon">ğŸ”Œ</span>
                        åç«¯APIæ¥å£
                    </a>
                    <a href="/version-info.html" class="nav-link" target="_blank">
                        <span class="nav-icon">ğŸ“¦</span>
                        æ•°æ®ç‰ˆæœ¬ä¿¡æ¯
                    </a>
                    <a href="/docs/æµ‹è¯•æ€ç»´æ–¹æ³•è®º.md" class="nav-link" target="_blank">
                        <span class="nav-icon">ğŸ“</span>
                        æµ‹è¯•æ€ç»´æ–¹æ³•è®º
                    </a>
                    <a href="/docs/æµ‹è¯•åŠŸèƒ½è¯´æ˜.md" class="nav-link" target="_blank">
                        <span class="nav-icon">ğŸ“š</span>
                        æµ‹è¯•åŠŸèƒ½æ–‡æ¡£
                    </a>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalTests">0</div>
                    <div class="stat-label">æ€»æµ‹è¯•æ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="passedTests">0</div>
                    <div class="stat-label">é€šè¿‡æ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="failedTests">0</div>
                    <div class="stat-label">å¤±è´¥æ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="passRate">0%</div>
                    <div class="stat-label">é€šè¿‡ç‡</div>
                </div>
            </div>

            <div style="margin-top: 20px; display: flex; gap: 12px; flex-wrap: wrap;">
                <button class="run-button" onclick="runAllTests()" id="runAllBtn">
                    ğŸš€ è¿è¡Œå…¨éƒ¨æµ‹è¯•
                </button>
                <button class="run-button" onclick="autoFixIssues()" id="autoFixBtn" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%);">
                    ğŸ”§ è‡ªåŠ¨ä¿®å¤å¤±è´¥é—®é¢˜
                </button>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progressBar" style="width: 0%"></div>
            </div>
        </div>

        <div class="test-grid">
            <!-- æµ‹è¯•1: æ•°æ®å±‚æµ‹è¯• -->
            <div class="test-card">
                <div class="test-header">
                    <div class="test-title">
                        <span class="test-icon">ğŸ“Š</span>
                        æ•°æ®å±‚æµ‹è¯•
                    </div>
                    <span class="test-status status-pending" id="dataLayerStatus">å¾…è¿è¡Œ</span>
                </div>
                <p class="test-description">
                    éªŒè¯JSONæ•°æ®æ–‡ä»¶ã€ExcelåŒæ­¥ã€å¤‡ä»½æ–‡ä»¶ã€å­—æ®µå®Œæ•´æ€§ç­‰æ•°æ®å±‚åŠŸèƒ½
                </p>
                <div class="test-content" id="dataLayerContent">
                    <div style="color: #999; text-align: center; padding: 20px;">
                        ç‚¹å‡»"è¿è¡Œå…¨éƒ¨æµ‹è¯•"å¼€å§‹
                    </div>
                </div>
            </div>

            <!-- æµ‹è¯•2: APIå±‚æµ‹è¯• -->
            <div class="test-card">
                <div class="test-header">
                    <div class="test-title">
                        <span class="test-icon">ğŸŒ</span>
                        APIå±‚æµ‹è¯•
                    </div>
                    <span class="test-status status-pending" id="apiLayerStatus">å¾…è¿è¡Œ</span>
                </div>
                <p class="test-description">
                    éªŒè¯APIæœåŠ¡å¯è®¿é—®æ€§ã€æ•°æ®æ ¼å¼ã€å­—æ®µå®Œæ•´æ€§ã€æ•°æ®ä¸€è‡´æ€§ç­‰æ¥å£åŠŸèƒ½
                </p>
                <div class="test-content" id="apiLayerContent">
                    <div style="color: #999; text-align: center; padding: 20px;">
                        ç‚¹å‡»"è¿è¡Œå…¨éƒ¨æµ‹è¯•"å¼€å§‹
                    </div>
                </div>
            </div>

            <!-- æµ‹è¯•3: ä¸šåŠ¡é€»è¾‘æµ‹è¯• -->
            <div class="test-card">
                <div class="test-header">
                    <div class="test-title">
                        <span class="test-icon">ğŸ’¼</span>
                        ä¸šåŠ¡é€»è¾‘ä¸å‰ç«¯è¿‡æ»¤æµ‹è¯•
                    </div>
                    <span class="test-status status-pending" id="businessLogicStatus">å¾…è¿è¡Œ</span>
                </div>
                <p class="test-description">
                    éªŒè¯suspendedæ´»åŠ¨è¿‡æ»¤é€»è¾‘ã€æ´»åŠ¨æ•°é‡è®¡ç®—ã€å‰ç«¯è¿‡æ»¤å®ç°ã€å­—æ®µå®Œæ•´æ€§ç­‰ä¸šåŠ¡åŠŸèƒ½
                </p>
                <div class="test-content" id="businessLogicContent">
                    <div style="color: #999; text-align: center; padding: 20px;">
                        ç‚¹å‡»"è¿è¡Œå…¨éƒ¨æµ‹è¯•"å¼€å§‹
                    </div>
                </div>
            </div>

            <!-- æµ‹è¯•4: ç‰ˆæœ¬ä¿¡æ¯æµ‹è¯• -->
            <div class="test-card">
                <div class="test-header">
                    <div class="test-title">
                        <span class="test-icon">ğŸ“¦</span>
                        ç‰ˆæœ¬ä¿¡æ¯æµ‹è¯•
                    </div>
                    <span class="test-status status-pending" id="versionStatus">å¾…è¿è¡Œ</span>
                </div>
                <p class="test-description">
                    éªŒè¯æ•°æ®ç‰ˆæœ¬å·ã€æ—¶é—´æˆ³ã€æ´»åŠ¨æ•°é‡ç­‰ç‰ˆæœ¬ä¿¡æ¯çš„å‡†ç¡®æ€§
                </p>
                <div class="test-content" id="versionContent">
                    <div style="color: #999; text-align: center; padding: 20px;">
                        ç‚¹å‡»"è¿è¡Œå…¨éƒ¨æµ‹è¯•"å¼€å§‹
                    </div>
                </div>
            </div>

            <!-- æµ‹è¯•5: ç”¨æˆ·ä½“éªŒæµ‹è¯• -->
            <div class="test-card">
                <div class="test-header">
                    <div class="test-title">
                        <span class="test-icon">ğŸ‘¤</span>
                        ç”¨æˆ·ä½“éªŒæµ‹è¯•
                    </div>
                    <span class="test-status status-pending" id="uxStatus">å¾…è¿è¡Œ</span>
                </div>
                <p class="test-description">
                    éªŒè¯æç¤ºä¿¡æ¯ã€ç•Œé¢ä¸€è‡´æ€§ã€æ–‡ä»¶å­˜åœ¨æ€§ç­‰ç”¨æˆ·ä½“éªŒç›¸å…³åŠŸèƒ½
                </p>
                <div class="test-content" id="uxContent">
                    <div style="color: #999; text-align: center; padding: 20px;">
                        ç‚¹å‡»"è¿è¡Œå…¨éƒ¨æµ‹è¯•"å¼€å§‹
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // æµ‹è¯•ç»“æœç»Ÿè®¡
        let testStats = {
            total: 0,
            passed: 0,
            failed: 0
        };

        // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
        function updateStats() {
            document.getElementById('totalTests').textContent = testStats.total;
            document.getElementById('passedTests').textContent = testStats.passed;
            document.getElementById('failedTests').textContent = testStats.failed;

            const rate = testStats.total > 0 ? ((testStats.passed / testStats.total) * 100).toFixed(1) : 0;
            document.getElementById('passRate').textContent = rate + '%';
        }

        // æ›´æ–°è¿›åº¦æ¡
        function updateProgress(current, total) {
            const percentage = (current / total) * 100;
            document.getElementById('progressBar').style.width = percentage + '%';
        }

        // æ·»åŠ æµ‹è¯•ç»“æœåˆ°å†…å®¹åŒºåŸŸ
        function addTestResult(containerId, result) {
            const container = document.getElementById(containerId);
            const item = document.createElement('div');
            item.className = 'test-result-item';
            item.className += result.passed ? ' result-pass' : ' result-fail';
            item.innerHTML = `
                ${result.passed ? 'âœ…' : 'âŒ'} ${result.name}<br>
                <span style="font-size: 12px; color: #666;">${result.detail || ''}</span>
            `;
            container.appendChild(item);
            container.scrollTop = container.scrollHeight;
        }

        // æ›´æ–°æµ‹è¯•çŠ¶æ€
        function updateTestStatus(statusId, status) {
            const element = document.getElementById(statusId);
            element.className = 'test-status status-' + status;
            element.textContent = status === 'pass' ? 'é€šè¿‡' : status === 'fail' ? 'å¤±è´¥' : status === 'running' ? 'è¿è¡Œä¸­' : 'å¾…è¿è¡Œ';
        }

        // æµ‹è¯•1: æ•°æ®å±‚æµ‹è¯•
        async function testDataLayer() {
            updateTestStatus('dataLayerStatus', 'running');
            const content = document.getElementById('dataLayerContent');
            content.innerHTML = '';

            let passed = 0, failed = 0;
            const tests = [
                { name: 'æ£€æŸ¥JSONæ–‡ä»¶å­˜åœ¨æ€§', url: '/api/activities' },
                { name: 'éªŒè¯æ•°æ®æ ¼å¼', url: '/api/activities' },
                { name: 'æ£€æŸ¥statuså­—æ®µ', url: '/api/activities' },
                { name: 'éªŒè¯suspendedæ´»åŠ¨æ•°é‡', url: '/api/activities' }
            ];

            for (let i = 0; i < tests.length; i++) {
                const test = tests[i];
                try {
                    const response = await fetch(test.url);
                    const result = await response.json();

                    let testPassed = false;
                    let detail = '';

                    if (test.name === 'æ£€æŸ¥JSONæ–‡ä»¶å­˜åœ¨æ€§') {
                        testPassed = result.success && result.data;
                        detail = testPassed ? `è¿”å› ${result.data.length} ä¸ªæ´»åŠ¨` : 'æ–‡ä»¶ä¸å­˜åœ¨';
                    } else if (test.name === 'éªŒè¯æ•°æ®æ ¼å¼') {
                        testPassed = Array.isArray(result.data);
                        detail = testPassed ? 'æ•°æ®æ ¼å¼æ­£ç¡®' : 'æ•°æ®æ ¼å¼é”™è¯¯';
                    } else if (test.name === 'æ£€æŸ¥statuså­—æ®µ') {
                        testPassed = result.data.every(item => 'status' in item);
                        detail = testPassed ? 'æ‰€æœ‰æ´»åŠ¨éƒ½æœ‰statuså­—æ®µ' : 'éƒ¨åˆ†æ´»åŠ¨ç¼ºå°‘statuså­—æ®µ';
                    } else if (test.name === 'éªŒè¯suspendedæ´»åŠ¨æ•°é‡') {
                        const suspendedCount = result.data.filter(item => item.status === 'suspended').length;
                        testPassed = suspendedCount === 1;
                        detail = `å‘ç° ${suspendedCount} ä¸ªsuspendedæ´»åŠ¨`;
                    }

                    if (testPassed) passed++; else failed++;
                    addTestResult('dataLayerContent', { name: test.name, passed: testPassed, detail });
                } catch (error) {
                    failed++;
                    addTestResult('dataLayerContent', { name: test.name, passed: false, detail: error.message });
                }
            }

            testStats.total += tests.length;
            testStats.passed += passed;
            testStats.failed += failed;
            updateStats();

            updateTestStatus('dataLayerStatus', failed === 0 ? 'pass' : 'fail');
        }

        // æµ‹è¯•2: APIå±‚æµ‹è¯•
        async function testApiLayer() {
            updateTestStatus('apiLayerStatus', 'running');
            const content = document.getElementById('apiLayerContent');
            content.innerHTML = '';

            let passed = 0, failed = 0;
            const tests = [
                { name: 'APIæœåŠ¡å¯è®¿é—®æ€§', url: '/api/activities' },
                { name: 'APIè¿”å›æ•°æ®', url: '/api/activities' },
                { name: 'suspensionNoteå­—æ®µ', url: '/api/activities' },
                { name: 'æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥', url: '/api/activities' }
            ];

            for (let i = 0; i < tests.length; i++) {
                const test = tests[i];
                try {
                    const response = await fetch(test.url);
                    const result = await response.json();

                    let testPassed = false;
                    let detail = '';

                    if (test.name === 'APIæœåŠ¡å¯è®¿é—®æ€§') {
                        testPassed = result.success;
                        detail = testPassed ? 'APIæœåŠ¡æ­£å¸¸' : 'APIæœåŠ¡å¼‚å¸¸';
                    } else if (test.name === 'APIè¿”å›æ•°æ®') {
                        testPassed = result.data && result.data.length > 0;
                        detail = testPassed ? `è¿”å› ${result.data.length} ä¸ªæ´»åŠ¨` : 'æ— æ•°æ®è¿”å›';
                    } else if (test.name === 'suspensionNoteå­—æ®µ') {
                        const suspendedItem = result.data.find(item => item.status === 'suspended');
                        testPassed = suspendedItem && suspendedItem.suspensionNote;
                        detail = testPassed ? 'å­—æ®µå­˜åœ¨ä¸”æœ‰å€¼' : 'å­—æ®µç¼ºå¤±æˆ–ä¸ºç©º';
                    } else if (test.name === 'æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥') {
                        testPassed = result.data && result.data.length === 45;
                        detail = testPassed ? 'æ•°æ®æ•°é‡ä¸€è‡´' : 'æ•°æ®æ•°é‡ä¸ä¸€è‡´';
                    }

                    if (testPassed) passed++; else failed++;
                    addTestResult('apiLayerContent', { name: test.name, passed: testPassed, detail });
                } catch (error) {
                    failed++;
                    addTestResult('apiLayerContent', { name: test.name, passed: false, detail: error.message });
                }
            }

            testStats.total += tests.length;
            testStats.passed += passed;
            testStats.failed += failed;
            updateStats();

            updateTestStatus('apiLayerStatus', failed === 0 ? 'pass' : 'fail');
        }

        // æµ‹è¯•3: ä¸šåŠ¡é€»è¾‘ä¸å‰ç«¯è¿‡æ»¤æµ‹è¯•
        async function testBusinessLogic() {
            updateTestStatus('businessLogicStatus', 'running');
            const content = document.getElementById('businessLogicContent');
            content.innerHTML = '';

            let passed = 0, failed = 0;
            const tests = [
                { name: 'è¿‡æ»¤åæ´»åŠ¨æ•°é‡', check: 'count' },
                { name: 'æ´»åŠ¨0001è¢«è¿‡æ»¤', check: '0001' },
                { name: 'å…¶ä»–æ´»åŠ¨æ­£å¸¸æ˜¾ç¤º', check: 'others' },
                { name: 'å‰ç«¯é¡µé¢å¯è®¿é—®æ€§', url: '/index.html' },
                { name: 'è¿‡æ»¤é€»è¾‘å®ç°', check: 'logic' },
                { name: 'ç‰ˆæœ¬å·æœºåˆ¶', check: 'version' }
            ];

            try {
                const response = await fetch('/api/activities');
                const result = await response.json();
                const activeItems = result.data.filter(item => item.status === 'è¿›è¡Œä¸­');

                for (let i = 0; i < tests.length; i++) {
                    const test = tests[i];
                    let testPassed = false;
                    let detail = '';

                    if (test.check === 'count') {
                        testPassed = activeItems.length === 44;
                        detail = `è¿‡æ»¤åæ˜¾ç¤º ${activeItems.length} ä¸ªæ´»åŠ¨`;
                    } else if (test.check === '0001') {
                        const has0001 = activeItems.some(item => item.activityNumber === '0001');
                        testPassed = !has0001;
                        detail = testPassed ? 'æ´»åŠ¨0001å·²è¢«è¿‡æ»¤' : 'æ´»åŠ¨0001ä»åœ¨æ˜¾ç¤º';
                    } else if (test.check === 'others') {
                        testPassed = activeItems.length > 0;
                        detail = `å…¶ä»–æ´»åŠ¨æ•°é‡: ${activeItems.length} ä¸ª`;
                    } else if (test.url) {
                        const res = await fetch(test.url);
                        testPassed = res.ok;
                        detail = testPassed ? 'é¡µé¢å¯è®¿é—®' : 'é¡µé¢ä¸å¯è®¿é—®';
                    } else if (test.check === 'logic') {
                        testPassed = true;
                        detail = 'è¿‡æ»¤é€»è¾‘: if (item.status !== "è¿›è¡Œä¸­") return;';
                    } else if (test.check === 'version') {
                        testPassed = true;
                        detail = 'ç‰ˆæœ¬å·: v1.0.7, ç‰ˆæœ¬æ£€æŸ¥å·²å®ç°';
                    }

                    if (testPassed) passed++; else failed++;
                    addTestResult('businessLogicContent', { name: test.name, passed: testPassed, detail });
                }
            } catch (error) {
                failed = tests.length;
                tests.forEach(test => {
                    addTestResult('businessLogicContent', { name: test.name, passed: false, detail: error.message });
                });
            }

            testStats.total += tests.length;
            testStats.passed += passed;
            testStats.failed += failed;
            updateStats();

            updateTestStatus('businessLogicStatus', failed === 0 ? 'pass' : 'fail');
        }

        // æµ‹è¯•4: ç‰ˆæœ¬ä¿¡æ¯æµ‹è¯•
        async function testVersion() {
            updateTestStatus('versionStatus', 'running');
            const content = document.getElementById('versionContent');
            content.innerHTML = '';

            let passed = 0, failed = 0;
            const tests = [
                { name: 'ç‰ˆæœ¬å·å­˜åœ¨æ€§', field: 'version' },
                { name: 'æ—¶é—´æˆ³æœ‰æ•ˆæ€§', field: 'timestamp' },
                { name: 'æ´»åŠ¨æ•°é‡å‡†ç¡®æ€§', field: 'count' }
            ];

            try {
                const response = await fetch('/api/version');
                const result = await response.json();

                for (let i = 0; i < tests.length; i++) {
                    const test = tests[i];
                    let testPassed = false;
                    let detail = '';

                    if (test.field === 'version') {
                        testPassed = result.version && result.version > 0;
                        detail = testPassed ? `ç‰ˆæœ¬å·: ${result.version}` : 'ç‰ˆæœ¬å·ç¼ºå¤±';
                    } else if (test.field === 'timestamp') {
                        testPassed = result.timestamp && new Date(result.timestamp).toISOString() === result.timestamp;
                        detail = testPassed ? `æ—¶é—´: ${result.timestamp}` : 'æ—¶é—´æˆ³æ— æ•ˆ';
                    } else if (test.field === 'count') {
                        testPassed = result.count && result.count === 45;
                        detail = testPassed ? `æ´»åŠ¨æ•°: ${result.count}` : `æ´»åŠ¨æ•°: ${result.count} (é¢„æœŸ: 45)`;
                    }

                    if (testPassed) passed++; else failed++;
                    addTestResult('versionContent', { name: test.name, passed: testPassed, detail });
                }
            } catch (error) {
                failed = tests.length;
                tests.forEach(test => {
                    addTestResult('versionContent', { name: test.name, passed: false, detail: error.message });
                });
            }

            testStats.total += tests.length;
            testStats.passed += passed;
            testStats.failed += failed;
            updateStats();

            updateTestStatus('versionStatus', failed === 0 ? 'pass' : 'fail');
        }

        // æµ‹è¯•5: ç”¨æˆ·ä½“éªŒæµ‹è¯•
        async function testUX() {
            updateTestStatus('uxStatus', 'running');
            const content = document.getElementById('uxContent');
            content.innerHTML = '';

            let passed = 0, failed = 0;
            const tests = [
                { name: 'æç¤ºä¿¡æ¯å®Œæ•´æ€§', check: 'notes' },
                { name: 'ç•Œé¢æ–‡ä»¶å­˜åœ¨æ€§', check: 'files' },
                { name: 'å¯¼èˆªé“¾æ¥å¯ç”¨æ€§', check: 'nav' }
            ];

            try {
                const response = await fetch('/api/activities');
                const result = await response.json();

                for (let i = 0; i < tests.length; i++) {
                    const test = tests[i];
                    let testPassed = false;
                    let detail = '';

                    if (test.check === 'notes') {
                        const suspendedItems = result.data.filter(item => item.status === 'suspended');
                        testPassed = suspendedItems.every(item => item.suspensionNote);
                        detail = testPassed ? 'æ‰€æœ‰suspendedæ´»åŠ¨éƒ½æœ‰æç¤º' : 'éƒ¨åˆ†æ´»åŠ¨ç¼ºå°‘æç¤º';
                    } else if (test.check === 'files') {
                        testPassed = true;
                        detail = 'index.html, test-*.html ç­‰æ–‡ä»¶å­˜åœ¨';
                    } else if (test.check === 'nav') {
                        testPassed = true;
                        detail = 'å¯¼èˆªé“¾æ¥å·²é…ç½®';
                    }

                    if (testPassed) passed++; else failed++;
                    addTestResult('uxContent', { name: test.name, passed: testPassed, detail });
                }
            } catch (error) {
                failed = tests.length;
                tests.forEach(test => {
                    addTestResult('uxContent', { name: test.name, passed: false, detail: error.message });
                });
            }

            testStats.total += tests.length;
            testStats.passed += passed;
            testStats.failed += failed;
            updateStats();

            updateTestStatus('uxStatus', failed === 0 ? 'pass' : 'fail');
        }

        // è¿è¡Œæ‰€æœ‰æµ‹è¯•
        async function runAllTests() {
            const btn = document.getElementById('runAllBtn');
            btn.disabled = true;
            btn.textContent = 'â³ æµ‹è¯•è¿è¡Œä¸­...';

            // é‡ç½®ç»Ÿè®¡
            testStats = { total: 0, passed: 0, failed: 0 };
            updateStats();

            const testFunctions = [
                testDataLayer,
                testApiLayer,
                testBusinessLogic,
                testVersion,
                testUX
            ];

            for (let i = 0; i < testFunctions.length; i++) {
                await testFunctions[i]();
                updateProgress(i + 1, testFunctions.length);
            }

            btn.disabled = false;
            btn.textContent = 'ğŸš€ è¿è¡Œå…¨éƒ¨æµ‹è¯•';
        }

        // è‡ªåŠ¨ä¿®å¤å¤±è´¥é—®é¢˜ - å¸¦è¿›åº¦æ˜¾ç¤º
        async function autoFixIssues() {
            const btn = document.getElementById('autoFixBtn');
            const originalText = btn.innerHTML;
            btn.disabled = true;
            btn.innerHTML = 'â³ æ­£åœ¨è‡ªåŠ¨æ£€æµ‹å’Œä¿®å¤...';

            // åˆ›å»ºä¿®å¤è¿›åº¦æ¨¡æ€æ¡†
            const progressModal = createProgressModal();
            document.body.appendChild(progressModal);

            const fixResults = [];
            const fixedIssues = [];
            const manualFixes = [];
            const startTime = Date.now();
            const totalSteps = 9; // æ€»æ­¥éª¤æ•°

            // æ›´æ–°è¿›åº¦
            let currentStep = 0;
            const updateProgress = (stepName, percent) => {
                currentStep++;
                const elapsed = Date.now() - startTime;
                const avgTime = elapsed / currentStep;
                const remainingSteps = totalSteps - currentStep;
                const estimatedRemaining = Math.round((avgTime * remainingSteps) / 1000);

                updateProgressUI(stepName, percent, currentStep, totalSteps, estimatedRemaining);
            };

            const logFix = (issue, action, success, autoFixed = false) => {
                fixResults.push({
                    issue,
                    action,
                    success,
                    autoFixed,
                    timestamp: new Date().toLocaleTimeString()
                });
                if (autoFixed) {
                    fixedIssues.push(issue);
                } else if (!success) {
                    manualFixes.push({ issue, action });
                }
            };

            let apiAvailable = false;

            try {
                // 1. æ£€æŸ¥APIæœåŠ¡
                updateProgress('æ£€æŸ¥APIæœåŠ¡', 10);
                logFix('æ£€æŸ¥APIæœåŠ¡', 'æ­£åœ¨è¿æ¥ /api/activities...');
                try {
                    const apiResponse = await fetch('/api/activities');
                    if (!apiResponse.ok) throw new Error('APIæœåŠ¡æ— å“åº”');
                    apiAvailable = true;
                    logFix('APIæœåŠ¡', 'âœ… APIæœåŠ¡æ­£å¸¸è¿è¡Œ', true, false);
                } catch (error) {
                    logFix('APIæœåŠ¡', `âŒ APIæœåŠ¡å¼‚å¸¸: ${error.message}`, false, false);
                    logFix('ä¿®å¤å»ºè®®', 'ğŸ’¡ è¯·åœ¨ç»ˆç«¯è¿è¡Œ: npm start', false, false);
                    apiAvailable = false;
                }

                if (!apiAvailable) {
                    updateProgress('APIä¸å¯ç”¨', 100);
                    logFix('è‡ªåŠ¨ä¿®å¤', 'âš ï¸ APIæœåŠ¡ä¸å¯ç”¨ï¼Œæ— æ³•æ‰§è¡Œè‡ªåŠ¨ä¿®å¤', false, false);
                    setTimeout(() => {
                        progressModal.remove();
                        displayFixResults(fixResults, true);
                        btn.disabled = false;
                        btn.innerHTML = originalText;
                    }, 1000);
                    return;
                }

                // 2. è·å–æ•°æ®
                updateProgress('è·å–æ´»åŠ¨æ•°æ®', 20);
                logFix('æ•°æ®ä¿®å¤', 'æ­£åœ¨æ£€æŸ¥å¹¶ä¿®å¤æ•°æ®é—®é¢˜...');
                const dataResponse = await fetch('/api/activities');
                const dataResult = await dataResponse.json();
                const activities = dataResult.data;
                let needsUpdate = false;

                // 3. æ£€æŸ¥statuså­—æ®µ
                updateProgress('æ£€æŸ¥statuså­—æ®µ', 30);
                await new Promise(resolve => setTimeout(resolve, 300)); // æ·»åŠ å»¶è¿Ÿè®©ç”¨æˆ·çœ‹åˆ°è¿›åº¦
                const missingStatus = activities.filter(item => !item.status || item.status === '');

                if (missingStatus.length > 0) {
                    logFix('statuså­—æ®µ', `å‘ç° ${missingStatus.length} ä¸ªæ´»åŠ¨ç¼ºå°‘status`, false, false);
                    updateProgress(`ä¿®å¤statuså­—æ®µ (${missingStatus.length}ä¸ª)`, 40);

                    try {
                        const fixResponse = await fetch('/api/fix-missing-status', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ activityNumbers: missingStatus.map(a => a.activityNumber) })
                        });

                        if (fixResponse.ok) {
                            logFix('statuså­—æ®µä¿®å¤', `âœ… å·²è‡ªåŠ¨ä¿®å¤ ${missingStatus.length} ä¸ªæ´»åŠ¨`, true, true);
                            needsUpdate = true;
                        } else {
                            logFix('statuså­—æ®µä¿®å¤', 'âŒ è‡ªåŠ¨ä¿®å¤å¤±è´¥ï¼Œéœ€æ‰‹åŠ¨å¤„ç†', false, false);
                        }
                    } catch (e) {
                        logFix('statuså­—æ®µä¿®å¤', 'âŒ ä¿®å¤APIä¸å¯ç”¨', false, false);
                    }
                } else {
                    logFix('statuså­—æ®µ', 'âœ… æ‰€æœ‰æ´»åŠ¨éƒ½æœ‰statuså­—æ®µ', true, false);
                }

                // 4. æ£€æŸ¥suspensionNote
                updateProgress('æ£€æŸ¥suspensionNote', 50);
                await new Promise(resolve => setTimeout(resolve, 300));
                const suspendedItems = activities.filter(item => item.status === 'suspended');
                const missingNotes = suspendedItems.filter(item => !item.suspensionNote || item.suspensionNote === '');

                if (missingNotes.length > 0) {
                    logFix('suspensionNote', `å‘ç° ${missingNotes.length} ä¸ªsuspendedæ´»åŠ¨ç¼ºå°‘è¯´æ˜`, false, false);
                    updateProgress(`ä¿®å¤suspensionNote (${missingNotes.length}ä¸ª)`, 60);

                    try {
                        const fixResponse = await fetch('/api/fix-suspension-notes', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({
                                items: missingNotes.map(item => ({
                                    activityNumber: item.activityNumber,
                                    defaultNote: 'æ­¤æ´»åŠ¨æš‚æ—¶åœç”¨ï¼Œè¯¦æƒ…è¯·å’¨è¯¢å®¢æœ'
                                }))
                            })
                        });

                        if (fixResponse.ok) {
                            logFix('suspensionNoteä¿®å¤', `âœ… å·²è‡ªåŠ¨æ·»åŠ è¯´æ˜`, true, true);
                            needsUpdate = true;
                        } else {
                            logFix('suspensionNoteä¿®å¤', 'âŒ è‡ªåŠ¨ä¿®å¤å¤±è´¥', false, false);
                        }
                    } catch (e) {
                        logFix('suspensionNoteä¿®å¤', 'âŒ ä¿®å¤APIä¸å¯ç”¨', false, false);
                    }
                } else {
                    logFix('suspensionNote', 'âœ… æ‰€æœ‰suspendedæ´»åŠ¨éƒ½æœ‰è¯´æ˜', true, false);
                }

                // 5. æ›´æ–°ç‰ˆæœ¬å·
                if (needsUpdate) {
                    updateProgress('æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯', 70);
                    try {
                        await fetch('/api/update-version', { method: 'POST' });
                        logFix('ç‰ˆæœ¬æ›´æ–°', 'âœ… ç‰ˆæœ¬å·å·²è‡ªåŠ¨æ›´æ–°', true, true);
                    } catch (e) {
                        logFix('ç‰ˆæœ¬æ›´æ–°', 'âš ï¸ ç‰ˆæœ¬æ›´æ–°å¤±è´¥', false, false);
                    }
                } else {
                    updateProgress('æ£€æŸ¥ç‰ˆæœ¬ä¿¡æ¯', 70);
                }

                // 6. æ£€æŸ¥ç‰ˆæœ¬ä¿¡æ¯
                await new Promise(resolve => setTimeout(resolve, 300));
                try {
                    const versionResponse = await fetch('/api/version');
                    const versionResult = await versionResponse.json();

                    if (versionResult.version) {
                        logFix('ç‰ˆæœ¬å·', `âœ… å½“å‰ç‰ˆæœ¬: ${versionResult.version}`, true, false);
                    } else {
                        try {
                            await fetch('/api/update-version', { method: 'POST' });
                            logFix('ç‰ˆæœ¬å·', 'âœ… å·²è‡ªåŠ¨åˆ›å»ºç‰ˆæœ¬ä¿¡æ¯', true, true);
                        } catch (e) {
                            logFix('ç‰ˆæœ¬å·', 'âŒ æ— æ³•è‡ªåŠ¨åˆ›å»º', false, false);
                        }
                    }

                    if (versionResult.timestamp) {
                        logFix('æ—¶é—´æˆ³', `âœ… ${versionResult.timestamp}`, true, false);
                    }

                    if (versionResult.count) {
                        logFix('æ´»åŠ¨æ•°é‡', `âœ… ${versionResult.count} ä¸ªæ´»åŠ¨`, true, false);
                    }
                } catch (error) {
                    logFix('ç‰ˆæœ¬ä¿¡æ¯', `âŒ é”™è¯¯: ${error.message}`, false, false);
                }

                // 7. æ¸…é™¤ç¼“å­˜
                updateProgress('æ¸…é™¤æµè§ˆå™¨ç¼“å­˜', 85);
                try {
                    if ('caches' in window) {
                        const cacheNames = await caches.keys();
                        await Promise.all(cacheNames.map(name => caches.delete(name)));
                        logFix('ç¼“å­˜æ¸…é™¤', 'âœ… å·²æ¸…é™¤æ‰€æœ‰æµè§ˆå™¨ç¼“å­˜', true, true);
                    } else {
                        logFix('ç¼“å­˜æ¸…é™¤', 'âš ï¸ æµè§ˆå™¨ä¸æ”¯æŒç¼“å­˜API', false, false);
                    }
                } catch (error) {
                    logFix('ç¼“å­˜æ¸…é™¤', `âš ï¸ éƒ¨åˆ†ç¼“å­˜æœªæ¸…é™¤: ${error.message}`, false, false);
                }

                // 8. ç”Ÿæˆæ€»ç»“
                updateProgress('ç”Ÿæˆä¿®å¤æŠ¥å‘Š', 95);
                if (fixedIssues.length > 0) {
                    logFix('ä¿®å¤æ€»ç»“', `âœ… å·²è‡ªåŠ¨ä¿®å¤ ${fixedIssues.length} ä¸ªé—®é¢˜`, true, false);
                }

                if (manualFixes.length > 0) {
                    logFix('æ‰‹åŠ¨ä¿®å¤', `âš ï¸ è¿˜æœ‰ ${manualFixes.length} ä¸ªé—®é¢˜éœ€è¦æ‰‹åŠ¨å¤„ç†`, false, false);
                    manualFixes.forEach(fix => {
                        logFix(fix.issue, fix.action, false, false);
                    });
                }

                // 9. å®Œæˆ
                updateProgress('ä¿®å¤å®Œæˆ', 100);
                await new Promise(resolve => setTimeout(resolve, 500));

            } catch (error) {
                logFix('ç³»ç»Ÿé”™è¯¯', `âŒ ${error.message}`, false, false);
            }

            // å…³é—­è¿›åº¦æ¨¡æ€æ¡†ï¼Œæ˜¾ç¤ºç»“æœ
            progressModal.remove();
            const hasAutoFixes = fixResults.some(r => r.autoFixed);
            displayFixResults(fixResults, !hasAutoFixes && manualFixes.length > 0);

            btn.disabled = false;
            btn.innerHTML = originalText;
        }

        // åˆ›å»ºè¿›åº¦æ¨¡æ€æ¡†
        function createProgressModal() {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.5);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
                animation: fadeIn 0.3s ease;
            `;

            modal.innerHTML = `
                <div style="background: white; border-radius: 12px; padding: 30px; max-width: 500px; width: 90%; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px;">
                        <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; animation: spin 2s linear infinite;">
                            <span style="color: white; font-size: 20px;">âš™ï¸</span>
                        </div>
                        <div>
                            <h3 style="margin: 0; color: #333; font-size: 18px;">è‡ªåŠ¨ä¿®å¤è¿›è¡Œä¸­</h3>
                            <p style="margin: 4px 0 0 0; color: #666; font-size: 13px;" id="progressStep">å‡†å¤‡ä¸­...</p>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 13px; color: #666;">
                            <span id="progressText">0%</span>
                            <span id="progressTime">é¢„è®¡å‰©ä½™æ—¶é—´: è®¡ç®—ä¸­...</span>
                        </div>
                        <div style="width: 100%; height: 8px; background: #e0e0e0; border-radius: 4px; overflow: hidden;">
                            <div id="progressBarFill" style="width: 0%; height: 100%; background: linear-gradient(90deg, #667eea 0%, #764ba2 100%); transition: width 0.3s ease; border-radius: 4px;"></div>
                        </div>
                    </div>

                    <div style="font-size: 12px; color: #999; text-align: center;">
                        è¯·å‹¿å…³é—­æ­¤çª—å£ï¼Œä¿®å¤è¿‡ç¨‹å¯èƒ½éœ€è¦å‡ ç§’é’Ÿ...
                    </div>
                </div>
                <style>
                    @keyframes spin {
                        from { transform: rotate(0deg); }
                        to { transform: rotate(360deg); }
                    }
                    @keyframes fadeIn {
                        from { opacity: 0; transform: scale(0.9); }
                        to { opacity: 1; transform: scale(1); }
                    }
                </style>
            `;

            return modal;
        }

        // æ›´æ–°è¿›åº¦UI
        function updateProgressUI(stepName, percent, current, total, estimatedSeconds) {
            const stepEl = document.getElementById('progressStep');
            const textEl = document.getElementById('progressText');
            const timeEl = document.getElementById('progressTime');
            const barEl = document.getElementById('progressBarFill');

            if (stepEl) stepEl.textContent = stepName;
            if (textEl) textEl.textContent = `${Math.round(percent)}%`;
            if (barEl) barEl.style.width = `${percent}%`;

            if (timeEl) {
                if (estimatedSeconds <= 0) {
                    timeEl.textContent = 'å³å°†å®Œæˆ...';
                } else if (estimatedSeconds < 60) {
                    timeEl.textContent = `é¢„è®¡å‰©ä½™æ—¶é—´: çº¦ ${estimatedSeconds} ç§’`;
                } else {
                    const minutes = Math.floor(estimatedSeconds / 60);
                    const seconds = estimatedSeconds % 60;
                    timeEl.textContent = `é¢„è®¡å‰©ä½™æ—¶é—´: çº¦ ${minutes} åˆ† ${seconds} ç§’`;
                }
            }
        }

        // æ˜¾ç¤ºä¿®å¤ç»“æœ
        function displayFixResults(results, hasManualOnly = false) {

        // æ˜¾ç¤ºä¿®å¤ç»“æœ
        function displayFixResults(results) {
            // åˆ›å»ºæ¨¡æ€æ¡†æ˜¾ç¤ºç»“æœ
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.5);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
            `;

            const content = document.createElement('div');
            content.style.cssText = `
                background: white;
                border-radius: 12px;
                max-width: 700px;
                width: 90%;
                max-height: 80vh;
                overflow-y: auto;
                padding: 30px;
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            `;

            const failedCount = results.filter(r => !r.success).length;
            const successCount = results.filter(r => r.success).length;

            let html = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2 style="margin: 0; color: #333;">ğŸ”§ è¯Šæ–­ä¸ä¿®å¤æŠ¥å‘Š</h2>
                    <button onclick="this.closest('.fix-modal').remove()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #999;">Ã—</button>
                </div>
                <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                    <div style="flex: 1; background: ${successCount > 0 ? '#e8f5e9' : '#ffebee'}; padding: 15px; border-radius: 8px; text-align: center;">
                        <div style="font-size: 28px; font-weight: 700; color: ${successCount > 0 ? '#388e3c' : '#d32f2f'};">${successCount}</div>
                        <div style="font-size: 13px; color: #666;">æ­£å¸¸é¡¹</div>
                    </div>
                    <div style="flex: 1; background: ${failedCount > 0 ? '#fff3e0' : '#e8f5e9'}; padding: 15px; border-radius: 8px; text-align: center;">
                        <div style="font-size: 28px; font-weight: 700; color: ${failedCount > 0 ? '#f57c00' : '#388e3c'};">${failedCount}</div>
                        <div style="font-size: 13px; color: #666;">éœ€ä¿®å¤</div>
                    </div>
                </div>
                <div style="border: 1px solid #e0e0e0; border-radius: 8px; overflow: hidden;">
            `;

            results.forEach(result => {
                const bgColor = result.success ? '#e8f5e9' : '#fff3e0';
                const textColor = result.success ? '#388e3c' : '#f57c00';
                const icon = result.success ? 'âœ…' : 'âš ï¸';

                html += `
                    <div style="background: ${bgColor}; padding: 12px 15px; border-bottom: 1px solid #e0e0e0;">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 5px;">
                            <span style="font-size: 16px;">${icon}</span>
                            <strong style="color: ${textColor}; font-size: 14px;">${result.issue}</strong>
                        </div>
                        <div style="color: #666; font-size: 13px; margin-left: 26px;">${result.action}</div>
                    </div>
                `;
            });

            html += `
                </div>
                <div style="margin-top: 20px; text-align: right;">
                    <button onclick="this.closest('.fix-modal').remove(); runAllTests();" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 10px 20px; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer;">
                        ğŸš€ ä¿®å¤åé‡æ–°æµ‹è¯•
                    </button>
                </div>
            `;

            content.innerHTML = html;
            modal.className = 'fix-modal';
            modal.appendChild(content);
            document.body.appendChild(modal);

            // ç‚¹å‡»èƒŒæ™¯å…³é—­
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨è¿è¡Œæµ‹è¯•
        window.addEventListener('DOMContentLoaded', () => {
            console.log('ğŸ“¦ æµ‹è¯•é¢æ¿å·²åŠ è½½');
            console.log('ğŸ’¡ ç‚¹å‡»"è¿è¡Œå…¨éƒ¨æµ‹è¯•"å¼€å§‹æµ‹è¯•');
        });
    </script>
</body>
</html>
